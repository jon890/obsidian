
## 2장. 느려진 서비스, 어디부터 봐야할까

- 파일을 읽을 때에는 스트림을 사용하여, 메모리를 최적화 하자
- 응답 데이터 압축
	- gzip
	- brotli (?)
	- Accept-Encoding 헤더에 압축 알고리즘 정의
- 정적 자원 캐시
	- Cache-Control 헤더에 명시
		- 유저의 로컬 캐시에 보관

## 3장.  성능을 좌우하는 DB 설계와 쿼리

- 게시물 본문 검색은 어떻게 구현하는게 좋을까?
	- MySQL FULLTEXT 인덱스 고려
		- ElasticSearch까지 부담될 때..
- 인덱스는 고유한 값이 적은것으로 하는게 좋다.
	- 일자별 데이터는 많아질경우에 월별 파티셔닝 고려
- 게시글 좋아요 수, 조회 수는 어떻게 집계하는게 좋을까?
	- 게시글 Post에 Pessimistic Lock을 잡는방법은 별로 좋지 않은 듯하고
	- 낙관적으로 Locking을 사용하여 좋아요 수를, 늘리고 계속하여 재시도하는 방식으로 처리하는게 낫지 않을까?

- APM 사용
	- 응답 시간 분포를 시각적으로 표시